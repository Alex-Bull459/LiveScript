<!doctype html>
<html>
<head>
<meta charset='utf-8'>
<title>LiveScript 1.2.0 released!</title>

<link rel="canonical" href="http://livescript.net/blog/livescript-1.2.0.html">
<link rel="icon" type="image/png" href="../images/icon.png">

<link href="../bootstrap/themes/cerulean.bootstrap.min.css" rel="stylesheet">
<link href="../bootstrap/css/bootstrap-responsive.css" rel="stylesheet">

<script src="../google-code-prettify/prettify.js"></script>
<link href="../google-code-prettify/prettify.css" rel="stylesheet">
<script src="../lang-ls-1.4.0.js"></script>

<link href="styles.css" rel="stylesheet">

<script>
  if(window.location.host && window.location.host !== "localhost") {
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-7402515-5']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  }
</script>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="span10 content">
        <h1>LiveScript 1.2.0 released!</h1>
        <div class="date-author">
          <span class="date">2 August 2013</span> - <a href="https://twitter.com/gkzahariev" class="author">George Zahariev</a>
        </div>
        

<p>LiveScript is a language which compiles to JavaScript. It has a straightforward mapping to JavaScript and allows you to write expressive code devoid of repetitive boilerplate. While LiveScript adds many features to assist in functional style programming, it also has many improvements for object oriented and imperative programming.

<p>For more information, check out the <a href="http://livescript.net">LiveScript site</a>.

<h3>1.2.0</h3>

<p>LiveScript 1.2.0 adds new features, removes deprecated ones, improves compilation, and fixes many bugs.

<h4>for let</h4>

<p>This is a new addition to our looping constructs, which acts like wrapping the <code>for</code> loop body with a <code>let</code> statement. This allows you to create functions inside a loop which use the current (not final) value of loop variables. It also keeps the loop variables from being exposed to the surrounding scope.

<div class="example">
  <div class="example-ls">
<pre class="prettyprint lang-ls">
functions = for let x in [1 2 3]
  -> x
functions[0]() #=> 1
functions[1]() #=> 2
functions[2]() #=> 3
</pre>
  </div>
  <div class="example-js">
<pre class="prettyprint lang-js">
var functions, res$, i$, len$;
res$ = [];
for (i$ = 0, len$ = [1, 2, 3].length; i$ < len$; ++i$) {
  res$.push((fn$.call(this, [1, 2, 3][i$])));
}
functions = res$;
functions[0]();
functions[1]();
functions[2]();
function fn$(x){
  return function(){
    return x;
  };
}
</pre>
  </div>
</div>

<h4>JSON</h4>

<p>If you end your filename with <code>.json.ls</code>, the file will automatically be compiled to json with the <code>.json</code> extension, without having to specify that you are compiling JSON specifically using the <code>-j/--json</code> option.

<p>For example, <code>lsc -c file.json.ls</code> produces <code>file.json</code>

<h4>Hushed Functions</h4>

<p>You can currently hush functions (which means stopping them from automatically adding return statements) by adding a not <code>!</code> in front of the entire function definition. For example, <code>!-> ...</code> or <code>!(x) -> ...</code>. To make things easier, you can now simply have the <code>!</code> in front of the arrow. This allows you to add parameters to your function in the future without having to deal with moving the <code>!</code>.

<pre class="prettyprint lang-ls">
(x) !-> x
(x) !~> x
(x) !--> x
(x) !~~> x
</pre>

<h4>Better Compilation</h4>

<p>We now have improved compilation for calls on partially applied functions and the compose operator.

<p>When you call a partially applied function, if there is only one parameter left, then the compilation is optimized.

<div class="example">
  <div class="example-ls">
<pre class="prettyprint lang-ls">
2 |> pow  _, 3 |> mod _, 3 #=> 2
</pre>
  </div>
  <div class="example-js">
<pre class="prettyprint lang-js">
mod(pow(2, 3), 3);
</pre>
  </div>
</div>

<p>The compose operator no longer uses a helper function, but compiles to exactly what you would write by hand:

<div class="example">
  <div class="example-ls">
<pre class="prettyprint lang-ls">
h = f . g
</pre>
  </div>
  <div class="example-js">
<pre class="prettyprint lang-js">
var h;
h = function(){
    return f(g.apply(this, arguments));
};
</pre>
  </div>
</div>

<h4>Generated Header</h4>

<p>A comment is now added at the top of the generated JavaScript, showing which version of LiveScript the file was generated with. <code>// Generated by LiveScript 1.2.0</code>

<h4>Updated prelude.ls</h4>

<p><a href="http://preludels.com">prelude.ls</a> has received a huge update, and is now at version 1.0.3. With the new version, some changes had to be made to the <code>-d/--prelude</code> flag. The flag now only requires and imports all of prelude.ls if you are using it with the REPL. If you are compiling, it does not add the code to automatically require prelude.ls any more - you must do this yourself, using the <a href="http://preludels.com/#installation">new guidelines</a> which recommend only importing what you need.

<h4>REPL</h4>

<p>The REPL is now automatically started without printing the help information with a bare call of <code>lsc</code>. You can still print the help using the <code>-h/--help</code> option.

<p>The REPL prompt is now simply <code>ls&gt;</code>.

<pre>
$ lsc
LiveScript 1.2.0 - use 'lsc --help' for more information
ls&gt;
</pre>

<h4>Feature Removal</h4>

<p>Several deprecated features have been removed.

<p>The inexistence operator <code>!?</code> was removed because it caused inconsistencies with using the existence operator on a bang <code>!</code> call. Please use the negation of the existence operator instead - change <code>x!?</code> to <code>not x?</code>.

<p>The long concatenation operator <code>+++</code> has been replaced with <code>++</code> as it is shorter. Please use it instead - change <code>xs +++ ys</code> to <code>xs ++ ys</code>. Note that you must either doubly space as the preceding example, or not space at all: <code>xs++ys</code>. Having one space on one side of the operator, and no space on the other, not only looks terrible, but denotes use of the increment operator, eg. <code>f ++x</code> calls <code>f</code> with <code>x</code> incremented.

<p><code>undefined</code> as an alias to <code>void</code> has been removed - the alias was unnecessary. Please change <code>undefined</code> to <code>void</code>.

<p>The <code>where</code> statement has been removed. It could not be implemented in the way desired - it may come back in the future if it can be implemented properly. Please use a <code>let</code> statement or local variables instead. Please change

<pre class="prettyprint lang-ls">
x = y + z
  where y = 1,
        z = 2
</pre>

<p>to

<pre class="prettyprint lang-ls">
x = let y = 1, z = 2
  y + z
</pre>

<p>Single line cascades were removed as well. They were not that useful, and created ambiguities with the multiline cascade syntax. Change <code>obj..name = 2</code> to <code>obj <<< name: 2</code>.

<h3>Thanks</h3>

<p>Thank you to <a href="https://github.com/Nami-Doc">Nami-Doc</a> for his numerous contributions to this release! Also thanks to <a href="https://github.com/satyr">satyr</a> (through coco), <a href="https://github.com/killdream">killdream</a>, <a href="https://github.com/clkao">clkao</a>, <a href="https://github.com/viclib">viclib</a>, <a href="https://github.com/dtinth">dtinth</a>, and <a href="https://github.com/racklin">racklin</a> for their contributions to this release as well!

<p>For more information on LiveScript, check out the <a href="http://livescript.net">LiveScript site</a>.

        <hr>
        <p>For more on LiveScript and prelude.ls, <a href="https://twitter.com/gkzahariev" class="twitter-follow-button" data-show-count="false" data-size="large">follow @gkzahariev</a>.
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
        if(window.location.host && window.location.host !== "localhost") {
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'livescript'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        }
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
      </div>
      <div class="span2 sidebar">
        <h1><a href="http://livescript.net">LiveScript</a><img src="../images/icon.png"></h1>
        <iframe src="http://ghbtns.com/github-btn.html?user=gkz&repo=LiveScript&type=watch&size=large&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="160" height="40"></iframe>
        <a href="http://livescript.net"><div class="btn btn-primary btn-large btn">LiveScript site</div></a>
        <a href="https://github.com/gkz/LiveScript"><div class="btn btn-large btn">View on GitHub</div></a>
        <a href="http://preludels.com"><div class="btn btn-large btn">prelude.ls site</div></a>
        <div><a href="https://twitter.com/share" class="twitter-share-button" data-via="gkzahariev" data-size="large">Tweet</a></div>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        <h4>Blog Posts</h4>
        <ul>
          <li><a href="livescript-1.4.0-source-maps-more.html">LiveScript 1.4.0 - Source Maps and more!</a>
          <li><a href="livescript-1.3.0.html">LiveScript 1.3.0 Released!</a>
          <li><a href="livescript-1.2.0.html">LiveScript 1.2.0 Released!</a>
          <li><a href="fizzbuzzbazz.html">The shortest FizzBuzzBazz - can you do better?</a>
          <li><a href="10-things-you-didnt-know-livescript-can-do.html">10 things you didn't know LiveScript can do</a></li>
          <li><a href="livescript-1.1.0.html">LiveScript 1.1.0 Released!</a>
          <li><a href="powerful-jquery-with-livescript.html">Powerful jQuery with LiveScript</a>
          <li><a href="livescript-1.0.0.html">LiveScript 1.0.0 Released</a>
          <li><a href="functional-programming-in-javascript-using-livescript-part-2.html">Functional Programming in JavaScript using LiveScript - Part 2</a>
          <li><a href="ten-reasons-to-switch-from-coffeescript.html">10 Reasons to Switch from CoffeeScript to LiveScript</a>
          <li><a href="functional-programming-in-javascript-using-livescript-and-prelude-ls.html">Functional Programming in JavaScript using LiveScript and prelude.ls</a>
          <li><a href="livescript-one-liners-to-impress-your-friends.html">10 LiveScript One Liners to Impress Your Friends</h3>
        </ul>
      </div>
    </div>
  </div>
<script>
  prettyPrint();
  (document.getElementById("email") || {}).href = "mailto:z" + "@" + "georgezahariev.com";
</script>
</body>
</html>
